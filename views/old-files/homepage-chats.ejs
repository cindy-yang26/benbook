<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <script src="https://code.jquery.com/jquery-3.5.0.js"></script>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Home Page</title>
</head>
<body>
    <script type="text/javscript" src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
    <script language="javascript" type="text/javascript">

        // function that shows notification with a red emohji if they get invites
        var getInvites = function() {
            var invites = false;
            $.get('/invites',  function(data) {
                    console.log("data: "+data);
                    console.log(data.hasInvites);
                    if (data.hasInvites == true) {
                        if ($(".notification").length == 0)  {
                            var notification = document.createElement("span");
                            notification.setAttribute("class", "notification");
                            $(".chats-container").append(notification);
                            $(".notification").prepend("&#128308;");
                        } 
                    }  else {
                        $(".notification").empty();
                    }
                });
            setTimeout(getInvites, 1000);
        }
        $(document).ready(function() {
            setTimeout(getInvites, 3000);
        });

    </script>
    <h1 style="text-align:center">BenFrends</h1>
    <h2 style="text-align:center">Welcome, <a style="font-weight:bold"><%= first_name %></a></h2>

    <!-- only frontend component that matters -->
    <div class="chats-container" style="background-color: #0956db; width: fit-content;">
        <a href="/chats" style=" color: white; padding: 15px;">Chats</a>
    </div>
</body>
</html>